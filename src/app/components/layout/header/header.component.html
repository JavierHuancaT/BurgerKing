<!-- Header -->
<header class="custom-header">

  <!-- Navegacion principal -->
  <nav class="nav-links">
    <a class="nav-item" routerLink="/catalogo">Catálogo</a>
    <a class="nav-item" routerLink="/restaurantes">Restaurantes</a>
    <a class="nav-item" routerLink="/promociones">Promociones</a>
  </nav>

  <!-- Logo -->
  <div class="logo-container">
    <a routerLink="/pagina-principal">
      <img src="assets/logo.png" alt="Logo de Burger King" class="logo-img">
    </a>
  </div>

  <!-- Acciones del usuario -->
  <div class="user-actions">

    <!-- Caso 1: HAY usuario logueado -->
    <ng-container *ngIf="(currentUser$ | async) as user; else notLogged">
      <!-- Si es ADMIN: no mostramos nada en este header -->
      <ng-container *ngIf="user.role === 'Admin'; else clientArea">
        <!-- vacío a propósito para Admin -->
      </ng-container>

      <!-- Si es CLIENTE: comportamiento normal de tienda -->
      <ng-template #clientArea>
        <div class="cart-wrapper" (click)="toggleCarrito()" title="Ver carrito">
          <img src="assets/carrito.png" alt="Logo de Carrito" class="cart-img" />
          <span *ngIf="contadorCarrito > 0" class="cart-badge">{{ contadorCarrito }}</span>
        </div>

        <span class="user-name">
          Hola, {{ user.name }}
        </span>

        <button class="btn-logout" (click)="logout()">
          Cerrar sesión
        </button>
      </ng-template>
    </ng-container>

    <!-- Caso 2: NO hay usuario logueado -->
    <ng-template #notLogged>
      <button class="btn-register" routerLink="/auth/register">Registrarse</button>
      <button class="btn-login" routerLink="/auth/login">Iniciar sesión</button>
    </ng-template>

  </div>

  <div class="cart-wrapper" (click)="toggleCarrito()" title="Ver carrito">
    <img src="assets/carrito.png" alt="Logo de Carrito" class="cart-img" />
    <span *ngIf="contadorCarrito > 0" class="cart-badge">{{ contadorCarrito }}</span>
  </div>
</header>
