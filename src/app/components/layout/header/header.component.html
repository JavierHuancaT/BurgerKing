<header class="custom-header">

  <!-- Navegacion principal -->
  <nav class="nav-links">
    <a class="nav-item" routerLink="/catalogo">Catálogo</a>
    <a class="nav-item" routerLink="/restaurantes">Restaurantes</a>
    <a class="nav-item" routerLink="/promociones">Promociones</a>
  </nav>

  <!-- Logo -->
  <div class="logo-container">
    <a routerLink="/pagina-principal">
      <img src="assets/logo.png" alt="Logo de Burger King" class="logo-img">
    </a>
  </div>

  <!-- Acciones del usuario (nombre, logout, admin) -->
  <div class="user-actions" *ngIf="(currentUser$ | async) as user; else notLogged">

    <!-- CLIENTE -->
    <ng-container *ngIf="user.role === 'Client'">
      <span class="user-name">Hola, {{ user.name }}</span>
      <button class="btn-logout" (click)="logout()">Cerrar sesión</button>
    </ng-container>

    <!-- ADMIN -->
    <ng-container *ngIf="user.role === 'Admin'">
      <button class="btn-admin" routerLink="/admin/products">Menú Admin</button>
      <button class="btn-logout" (click)="logout()">Cerrar sesión</button>
    </ng-container>

  </div>

  <!-- NO LOGUEADO -->
  <ng-template #notLogged>
    <div class="user-actions">
      <button class="btn-register" routerLink="/auth/register">Registrarse</button>
      <button class="btn-login" routerLink="/auth/login">Iniciar sesión</button>
    </div>
  </ng-template>

  <!-- Carrito fijo (solo usuario cliente) -->
  <div 
    *ngIf="(currentUser$ | async)?.role === 'Client'" 
    class="cart-fixed"
    (click)="toggleCarrito()"
    title="Ver carrito">
    <img src="assets/carrito.png" alt="Logo de Carrito" class="cart-img" />
    <span *ngIf="contadorCarrito > 0" class="cart-badge">{{ contadorCarrito }}</span>
  </div>
</header>
